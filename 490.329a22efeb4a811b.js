"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[490],{5490:(se,A,h)=>{h.d(A,{hW:()=>ne,w8:()=>oe});var b=h(10467),u=h(54438),B=h(61594),T=h(89417);const l=new Array(256).fill("").map((t,n)=>("0"+n.toString(16)).slice(-2));var ee=h(60177);function te(t,n){}const O="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let ne=(()=>{class t{elementRef;editor;config={};data="";tagName="div";watchdog;editorWatchdogConfig;disableTwoWayDataBinding=!1;set disabled(e){this.setDisabledState(e)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}ready=new u.bkB;change=new u.bkB;blur=new u.bkB;focus=new u.bkB;error=new u.bkB;get editorInstance(){let e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}editorWatchdog;initiallyDisabled=!1;ngZone;cvaOnChange;cvaOnTouched;editorElement;isEditorSettingData=!1;id=function L(){const[t,n,e,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+l[255&t]+l[t>>8&255]+l[t>>16&255]+l[t>>24&255]+l[255&n]+l[n>>8&255]+l[n>>16&255]+l[n>>24&255]+l[255&e]+l[e>>8&255]+l[e>>16&255]+l[e>>24&255]+l[255&r]+l[r>>8&255]+l[r>>16&255]+l[r>>24&255]}();getId(){return this.id}constructor(e,r){this.ngZone=r,this.elementRef=e,this.checkVersion()}checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[r]=e.split(".").map(Number);r>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}ngOnChanges(e){Object.prototype.hasOwnProperty.call(e,"data")&&e.data&&!e.data.isFirstChange()&&this.writeValue(e.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var e=this;return(0,b.A)(function*(){e.watchdog?yield e.watchdog.remove(e.id):e.editorWatchdog&&e.editorWatchdog.editor&&(yield e.editorWatchdog.destroy(),e.editorWatchdog=void 0)})()}writeValue(e){null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(e),this.isEditorSettingData=!1):(this.data=e,this.ready.pipe((0,B.$)()).subscribe(r=>{r.data.set(this.data)}))}registerOnChange(e){this.cvaOnChange=e}registerOnTouched(e){this.cvaOnTouched=e}setDisabledState(e){this.editorInstance&&(e?this.editorInstance.enableReadOnlyMode(O):this.editorInstance.disableReadOnlyMode(O)),this.initiallyDisabled=e}attachToWatchdog(){var e=this;const r=(s,f)=>this.ngZone.runOutsideAngular((0,b.A)(function*(){e.elementRef.nativeElement.appendChild(s);const d=yield e.editor.create(s,f);return e.initiallyDisabled&&d.enableReadOnlyMode(O),e.ngZone.run(()=>{e.ready.emit(d)}),e.setUpEditorEvents(d),d})),i=function(){var s=(0,b.A)(function*(f){yield f.destroy(),e.elementRef.nativeElement.removeChild(e.editorElement)});return function(d){return s.apply(this,arguments)}}(),a=s=>{(function re(t){return t.observed||t.observers.length>0})(this.error)&&this.ngZone.run(()=>this.error.emit(s))},o=document.createElement(this.tagName),c=this.getConfig();if(this.editorElement=o,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:r,destructor:i,sourceElementOrData:o,config:c}).catch(s=>{a(s)}),this.watchdog.on("itemError",(s,{itemId:f})=>{f===this.id&&a()});else{const s=new this.editor.EditorWatchdog(this.editor,this.editorWatchdogConfig);s.setCreator(r),s.setDestructor(i),s.on("error",a),this.editorWatchdog=s,this.ngZone.runOutsideAngular(()=>{s.create(o,c).catch(f=>{a(f)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const e={...this.config},r=this.config.initialData||this.data;return r&&(e.initialData=r),e}setUpEditorEvents(e){const i=e.editing.view.document;e.model.document.on("change:data",a=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const o=e.data.get();this.cvaOnChange(o)}this.change.emit({event:a,editor:e})}})}),i.on("focus",a=>{this.ngZone.run(()=>{this.focus.emit({event:a,editor:e})})}),i.on("blur",a=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:a,editor:e})})})}static \u0275fac=function(r){return new(r||t)(u.rXU(u.aKT),u.rXU(u.SKi))};static \u0275cmp=u.VBU({type:t,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[u.Jv_([{provide:T.kq,useExisting:(0,u.Rfq)(()=>t),multi:!0}]),u.OA$],decls:1,vars:0,template:function(r,i){1&r&&u.DNE(0,te,0,0,"ng-template")},encapsulation:2})}return t})(),oe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=u.$C({type:t});static \u0275inj=u.G2t({imports:[T.YN,ee.MD]})}return t})()}}]);